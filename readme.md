# 0. О программе

  chicken_of_light - прошивка для платы aruino uno, которое реализует управление светильником.

# 1. Структура репозитория

    \chicken_of_light - каталог, содержащий в себе основной код прошивки;  
    \ - корневой каталог;  

# 2. Системные требования
   
	* ОС Windows 7 или выше;  
	* Arduino IDE 1.8.6 или выше;  

	Примечание: возможно использование вместо Arduino IDE AVR-компилятора языка C++ в сочетании с программой для прошивки контроллера.
	
# 3. Установка прошивки

   Для установки прошивки необходимо:  
    1) Установить Arduino IDE.  
    2) Открыть файл .\chicken_of_light\chicken_of_light.ino в среде Arduino IDE.  
    3) В разделе "Инструменты"->"Плата" выбрать поле "Arduino Uno".  
    4) В разделе "Инструменты"->"Порт" выбрать порт, через который будет производиться прошивка платы arduino uno.  
    5) В разделе "Скетч" выбрать пункт загрузка и дождаться окончания загрузки.  
   

# 4. Настройка программы

   Порты, к которым подключается оборудование указано в начале программы и могут быть заменены на другие.  
   Примечание: наименование портов начинается со слова "pin_" И располагается в основном файле проекта (chicken_of_light.ino).  
   Изначальное состояние алгоритма - неопределенное (undefined_state).
   Параметры программы располагаются в файле "program_paramters.h"
   BLINK_TIME - время в миллисекундах между полупериодом мигания ( по умолчанию 500 мс).
   ANTIDEBOUNCE_TIME - время в миллисекундах между считываниями данных с кнопок и реле, все импульсы, короче этого времени, отсекаются ( по умолчанию 200 мс).
   PWM_STEP - шаг по умолчанию приращения яркости ( по умолчанию - 1. Можно определять как дробное число. С его помощью можно регулировать время рассвета и заката).
   MAX_PWM - максимальное значение яркости ( по умолчанию 255 )
   MIN_PWM - минимальное значение яркости ( по умолчанию 0 )
   
# 5. Инструкция по управлению

   Программа запускается автоматически и может функционировать в одном из 5 режимов:  
   - неопределенное состояние;  
   - режим рассвет;  
   - режим день;  
   - режим закат;  
   - режим ночь.  
   
## 5.1 Режим "Неопределенный"  

   Начальное состояние программы - неопределенное.
   Из неопределенного состояния она переходит в зависимости от состояния реле времени и освещенности в режим "Рассвет" или в режим "Закат".  
   
## 5.2 Режим "Рассвет"  

   В режиме "Рассвет" значение яркости светильника изменяется от MIN_PWM до MAX_PWM с шагом PWM_STEP (в классе LED_PWM). При достижении значения MAX_PWM, программа переходит в режим "День".
   Если в режиме работы "Рассвет" была нажата кнопка "День", "Ночь", "Закат" или изменилось состояние реле времени, или реле освещенности, то происходит переход в соответствующий режим.  
   
  
## 5.3 Режим "День"  

   В режиме "День" значение яркости светильника соответсвует MAX_PWM.
   Если в режиме работы "День" была нажата кнопка "День", "Рассвет", "Ночь", "Закат" или изменилось состояние реле времени, или реле освещенности, то происходит переход в соответствующий режим.  
   
## 5.4 Режим "Закат"  

   В режиме "Закат" значение яркости светильника изменяется от MAX_PWM до MIN_PWM с шагом PWM_STEP. При достижении значения MIN_PWM, программа переходит в режим "Ночь".
   Если в режиме работы "Закат" была нажата кнопка "День","Рассвет", "Ночь", "Закат" или изменилось состояние реле времени, или реле освещенности, то происходит переход в соответствующий режим.  
   
## 5.3 Режим "Ночь"  

   В режиме "Ночь" значение яркости светильника соответсвует MIN_PWM.
   Если в режиме работы "Ночь" была нажата кнопка "День", "Рассвет", "Ночь", "Закат" или изменилось состояние реле времени, или реле освещенности, то происходит переход в соответствующий режим.  
   